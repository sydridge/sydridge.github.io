<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Disposable wipes</title>
      <!-- bootstrap link -->
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
         crossorigin="anonymous"
      />
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet" />
      <link rel="stylesheet" href="./style.css" />
   </head>

   <body>
      <main>
         <header class="main-header">
            <nav class="navbar navbar-expand-xl bg-transparent text-brand container">
               <a class="navbar-brand text-brand" href="./index.html">
                  <h2 class="text-logo">Disposable wipes</h2>
               </a>
               <button
                  class="navbar-toggler bg-transparent text-black px-3 py-2"
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#navbarOffcanvas"
                  aria-controls="navbarOffcanvas"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
               >
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="30px" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                     <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                  </svg>
               </button>
               <div class="offcanvas offcanvas-end" id="navbarOffcanvas" tabindex="-1" aria-labelledby="offcanvasNavbarLabel">
                  <div class="offcanvas-header">
                     <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                  </div>
                  <div class="offcanvas-body">
                     <div class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <ul class="navbar-nav align-items-center mb-2 mb-lg-0 gap-4 text-uppercase">
                           <li class="nav-item">
                              <a class="nav-link active" href="./index.html" target="_self" title="">Home</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="#" target="_self" title="">Product</a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="./about.html" target="_self" title="">About us </a>
                           </li>
                           <li class="nav-item">
                              <a class="nav-link" href="#" target="_self" title="">Contact </a>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </nav>
         </header>
         <div class="hero-section"></div>
         <div class="search-section">
            <div class="container">
               <div class="row justify-content-center">
                  <div class="col-md-9">
                     <div class="hero-box">
                        <h1>Lets have some positive impact on our environment</h1>
                        <div class="search">
                           <input type="text" class="search-input" placeholder="Find your food" />
                           <button class="search-btn">Search</button>
                        </div>
                        <div class="dropdown-content"></div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="product-details-section">
            <div class="container">
               <div class="row align-items-center justify-content-center">
                  <div class="col-md-6">
                     <div class="product-details"></div>
                  </div>
               </div>
            </div>
         </div>
         <div class="fact-section">
            <div class="container">
               <div class="row align-items-center">
                  <div class="col-md-6">
                     <figure>
                        <img src="./img/facts.jpg" alt="fact" />
                     </figure>
                  </div>
                  <div class="col-md-6">
                     <div class="fact-box">
                        <h2>Facts about Disposable Wipes</h2>
                        <ul>
                           <li>Disposable wipes are a convenient cleaning solution for many households.</li>
                           <li>Most disposable wipes contain non-biodegradable materials, such as plastic fibers.</li>
                           <li>Improper disposal of wipes can lead to environmental pollution, including clogged sewers and marine debris.</li>
                           <li>Switching to eco-friendly alternatives, such as biodegradable wipes, can help reduce environmental impact.</li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <section id="environmental-impact">
            <div class="container">
               <div class="row align-items-center">
                  <div class="col-md-6">
                     <h2>Environmental Impact of Disposable Wipes</h2>
                     <p>Disposable wipes have a significant environmental impact due to their composition and disposal methods. Here are some key points:</p>
                     <ul>
                        <li>Many disposable wipes are made from non-biodegradable materials, such as polyester or polypropylene.</li>
                        <li>These materials can take hundreds of years to decompose in landfills, contributing to long-term environmental pollution.</li>
                        <li>Improper disposal of wipes, such as flushing them down toilets, can lead to clogged sewer systems and damage to wastewater treatment facilities.</li>
                        <li>Wipes that end up in water bodies, such as rivers and oceans, can harm marine life and ecosystems.</li>
                        <li>Switching to eco-friendly alternatives, such as wipes made from biodegradable materials, can help mitigate these environmental impacts.</li>
                     </ul>
                  </div>
                  <div class="col-md-6">
                     <figure>
                        <img src="./img/envo.webp" alt="" />
                     </figure>
                  </div>
               </div>
            </div>
         </section>
         <section class="about-section">
            <div class="container">
               <div class="row justify-content-center align-items-center">
                  <div class="col-md-6">
                     <figure>
                        <img src="./img/pexels-fauxels-3228812.jpg" alt="" />
                     </figure>
                  </div>
                  <div class="col-md-6 p-3">
                     <h3>About us</h3>
                     <p>
                        we are committed to revolutionizing the way you think about disposable wipes. With a passion for sustainability and innovation, we strive to provide high-quality, eco-friendly
                        alternatives that make a positive impact on both your life and the environment.
                        <br />
                        <br />
                        Our journey began with a simple idea: to create disposable wipes that are gentle on the planet without compromising on performance. Through extensive research and development,
                        we've crafted a range of products that combine convenience with sustainability, offering you a guilt-free solution for everyday tasks.
                        <br />
                        <br />
                        What sets us apart is our dedication to environmental responsibility. We carefully select materials that are biodegradable, compostable, and sourced from renewable resources.
                        By choosing our wipes, you're not only choosing superior quality but also contributing to a greener future for generations to come.
                     </p>
                  </div>
               </div>
            </div>
         </section>
         <div id="myModal" class="popup">
            <div class="popup-content">
               <span class="close">&times;</span>
               <h2>Description:</h2>
               <p id="ingredientDescription"></p>
            </div>
         </div>
      </main>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
         crossorigin="anonymous"
      ></script>
      <script>
         const searchInput = document.querySelector(".search-input");
         const dropdownContent = document.querySelector(".dropdown-content");
         const productDetails = document.querySelector(".product-details");

         // Fetch data from JSON file
         fetch("products.json")
            .then((response) => {
               if (!response.ok) {
                  throw new Error("Network response was not ok");
               }
               return response.json();
            })
            .then((data) => {
               const products = data.products;
               const harmfulIngredients = data.harmful_ingredients;
               console.log(harmfulIngredients, "peo");

               function displaySuggestions(input) {
                  dropdownContent.innerHTML = "";
                  const filteredProducts = products.filter((product) => product.name.toLowerCase().includes(input.toLowerCase()));
                  filteredProducts.forEach((product) => {
                     const option = document.createElement("div");
                     option.textContent = product.name;
                     option.classList.add("dropdown-item");
                     dropdownContent.appendChild(option);
                  });
               }
               // Function to display product details
               function displayProductDetails(product) {
                  if (product) {
                     productDetails.innerHTML = "";
                     const item = document.createElement("div");
                     item.innerHTML = `
                        <img src="./img${product.img}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <p>Ingredients: ${product.ingredients.join(", ")}</p>
                  `;

                     const harmfulIngredientsList = product.ingredients.filter((ingredient) => harmfulIngredients.some((item) => item.name === ingredient));

                     if (harmfulIngredientsList.length > 0) {
                        const harmfulIngredientsParagraph = document.createElement("p");
                        harmfulIngredientsParagraph.innerHTML = `This item has harmful ingredients: `;
                        const harmfulIngredientsSpan = document.createElement("span");
                        harmfulIngredientsList.forEach((ingredient) => {
                           const description = harmfulIngredients.find((item) => item.name === ingredient)?.description || "";
                           const ingredientElement = document.createElement("span");
                           ingredientElement.textContent = `${ingredient}`;
                           ingredientElement.style.cursor = "pointer";
                           ingredientElement.addEventListener("click", () => {
                              showPopup(description);
                           });
                           harmfulIngredientsSpan.appendChild(ingredientElement);
                        });
                        harmfulIngredientsParagraph.appendChild(harmfulIngredientsSpan);
                        item.appendChild(harmfulIngredientsParagraph);
                     } else {
                        item.innerHTML += `<p class="pure">This product is pure, no harmful ingredients available.</p>`;
                     }

                     productDetails.appendChild(item);
                     if (productDetails.hasChildNodes()) {
                        productDetails.style.display = "block";
                     }
                  } else {
                     productDetails.innerHTML = "";
                     if (!productDetails.hasChildNodes()) {
                        productDetails.style.display = "none";
                     }
                  }
               }

               // Event listener for input changes
               searchInput.addEventListener("input", () => {
                  const inputValue = searchInput.value;
                  if (inputValue === "") {
                     filteredProducts = []; // Clear filtered products
                     displayProductDetails(null); // Hide product details
                  }
                  console.log(inputValue);
                  if (inputValue.length >= 2) {
                     displaySuggestions(inputValue);
                  } else {
                     dropdownContent.innerHTML = "";
                  }
               });

               dropdownContent.addEventListener("click", (event) => {
                  if (event.target.classList.contains("dropdown-item")) {
                     const productName = event.target.textContent.trim();
                     const product = products.find((product) => product.name.toLowerCase() === productName.toLowerCase());
                     if (product) {
                        displayProductDetails(product);
                        dropdownContent.innerHTML = ""; // Clear dropdown after selection
                     } else {
                        console.log("Product not found.");
                     }
                  }
               });
               // Event listener for search button
               document.querySelector(".search-btn").addEventListener("click", () => {
                  const productName = searchInput.value.trim();
                  const product = products.find((product) => product.name.toLowerCase() === productName.toLowerCase());
                  if (product) {
                     displayProductDetails(product);
                     // Hide product details if it has no child elements
                  } else {
                     productDetails.innerHTML = "<p>Product not found.</p>";
                  }
               });
            })
            .catch((error) => {
               // Handle any errors that occur during the fetch operation
               console.error("Fetch error:", error);
            });
         document.addEventListener("DOMContentLoaded", function () {
            // Hide product details if it has no child elements
            if (!productDetails.hasChildNodes()) {
               productDetails.style.display = "none";
            }
         });

         // Get the modal
         const modal = document.getElementById("myModal");

         // Get the <span> element that closes the modal
         const span = document.getElementsByClassName("close")[0];

         // Function to display popup with ingredient description
         function showPopup(description) {
            // Set the description content
            document.getElementById("ingredientDescription").textContent = description;

            // Display the modal
            modal.style.display = "block";
         }

         // When the user clicks on <span> (x), close the modal
         span.onclick = function () {
            modal.style.display = "none";
         };

         // When the user clicks anywhere outside of the modal, close it
         window.onclick = function (event) {
            if (event.target === modal) {
               modal.style.display = "none";
            }
         };
      </script>
   </body>
</html>
